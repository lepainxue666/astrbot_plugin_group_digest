{
  "limits": {
    "description": "限制：控制一次拉取的记录数量和模型输出长度",
    "type": "object",
    "items": {
      "max_chat_records": {
        "description": "聊天记录条数上限",
        "type": "int",
        "default": 200,
        "hint": "建议 100~1500，过大可能导致接口变慢或超时"
      },
      "max_input_chars": {
        "description": "发送给 LLM 的上下文最大字符数",
        "type": "int",
        "default": 20000,
        "hint": "用于裁剪聊天记录输入，避免超出模型上下文窗口；0 表示不裁剪（不推荐）"
      },
      "max_tokens": {
        "description": "LLM 输出 token 上限",
        "type": "int",
        "default": 2000,
        "hint": "粗略对应输出字符数：token * 4"
      }
    }
  },
  "auto_summary": {
    "description": "自动总结设置",
    "type": "object",
    "items": {
      "enabled": {
        "description": "开启自动总结",
        "type": "bool",
        "default": false
      },
      "interval_minutes": {
        "description": "执行间隔(分钟)",
        "type": "int",
        "default": 60,
        "hint": "定时任务的轮询间隔"
      },
      "target_groups": {
        "description": "需要自动总结的群号",
        "type": "list",
        "items": {
          "type": "string"
        },
        "default": ["656843194"],
        "hint": "支持多个群号，可用逗号或换行分隔"
      },
      "time_window_minutes": {
        "description": "时间窗口(分钟)",
        "type": "int",
        "default": 15,
        "hint": "按时间窗口分段时的窗口大小（分钟）"
      },
      "min_messages": {
        "description": "最少消息数",
        "type": "int",
        "default": 1,
        "hint": "新消息数量少于此值时跳过总结，避免频繁触发"
      }
    }
  }
}
